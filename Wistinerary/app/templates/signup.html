{% extends "component/base.html" %}

{% block title %}Sign Up{% endblock %}

{% block content %}
{% load static %}

  <div class="flex items-center justify-center min-h-screen grid-cols-2"> <!--Container -->

      <div class="p-6">
        <div class="flex justify-center">
          <img src="{% static 'images/LogoHorizontal.png' %}" class="w-32 mx-auto"/>
        </div>

        <div class="mt-12 flex flex-col items-center">
          <h1 class="text-2xl font-extrabold">Sign Up</h1>

          <div class="w-full flex-1 mt-8">
            <!-- Pesan Error / Success -->
            {% if messages %}
              <div class="w-full max-w-xs mx-auto mt-4">
                  {% for message in messages %}
                      <div id="message-{{ forloop.counter }}" 
                            class="message-alert p-4 mb-4 rounded-xl shadow-lg transform transition-all duration-500 ease-in-out opacity-100 translate-y-0 border
                                  {% if message.tags == 'error' %} bg-red-50 border-red-200 text-red-800 border-l-4 border-l-red-500
                                  {% elif message.tags == 'success' %} bg-green-50 border-green-200 text-green-800 border-l-4 border-l-green-500
                                  {% else %} bg-gray-50 border-gray-200 text-gray-800 border-l-4 border-l-gray-500 {% endif %}">
                          
                          <div class="flex items-start">
                              <!-- Icon -->
                              <div class="flex-shrink-0 mr-3">
                                  {% if message.tags == 'error' %}
                                      <div class="w-8 h-8 bg-red-500 rounded-full flex items-center justify-center">
                                          <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                                          </svg>
                                      </div>
                                  {% elif message.tags == 'success' %}
                                      <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                          <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                          </svg>
                                      </div>
                                  {% else %}
                                      <div class="w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center">
                                          <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                                          </svg>
                                      </div>
                                  {% endif %}
                              </div>
                              
                              <!-- Message Content -->
                              <div class="flex-1">
                                  <p class="font-semibold text-sm
                                          {% if message.tags == 'error' %} text-red-800
                                          {% elif message.tags == 'success' %} text-green-800
                                          {% else %} text-gray-800 {% endif %}">
                                      {% if message.tags == 'error' %}
                                          Error
                                      {% elif message.tags == 'success' %}
                                          Berhasil!
                                      {% else %}
                                          Pemberitahuan!
                                      {% endif %}
                                  </p>
                                  <p class="text-sm mt-1 
                                          {% if message.tags == 'error' %} text-red-700
                                          {% elif message.tags == 'success' %} text-green-700
                                          {% else %} text-gray-700 {% endif %}">
                                      {{ message }}
                                  </p>
                              </div>
                              
                              <!-- Close Button -->
                              <button onclick="hideMessage('message-{{ forloop.counter }}')" 
                                      class="flex-shrink-0 ml-2 
                                              {% if message.tags == 'error' %} text-red-400 hover:text-red-600
                                              {% elif message.tags == 'success' %} text-green-400 hover:text-green-600
                                              {% elif message.tags == 'warning' %} text-yellow-400 hover:text-yellow-600
                                              {% elif message.tags == 'info' %} text-blue-400 hover:text-blue-600
                                              {% else %} text-gray-400 hover:text-gray-600 {% endif %}
                                              transition-colors duration-200">
                                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                  </svg>
                              </button>
                          </div>
                      </div>
                  {% endfor %}
              </div>
            {% endif %}
            <!-- Pesan Error / Success -->

            <!-- Form Signup -->
            <form method="POST" action="{% url 'signup' %}">
              {% csrf_token %}
              <div class="mx-auto max-w-xs">
                  <input
                  class="w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 mt-4"
                  type="email" placeholder="contoh: nama@gmail.com" name="email" id="email" required/>

                  <input
                  class="w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 mt-4"
                  type="password" placeholder="Password" name="password" id="password" required />

                  <input
                  class="w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 mt-4"
                  type="password" placeholder="Konfirmasi Passwordd" name="konfirmasi_password" id="konfirmasi_password" required />

                  <input
                  class="w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 mt-4"
                  type="text" placeholder="Nama" name="nama" required />

                  <input
                  class="w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 mt-4"
                  type="tel" placeholder="Nomor Handphone" name="nomor_handphone" required/>

              <!-- Tombol Sign up --> 
                <div class="bg-blue-primary hover:bg-primary-hover"> 
                  <button class="mt-5 w-full py-4 flex items-center justify-center" type="submit"> 
                      <span class="text-white"> Sign Up </span> 
                  </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div class="flex justify-center items-center">
        <img src="{% static 'images/Malcha Hai GIF.gif' %}"
          alt="GIF Animation"
          class="h-96 w-auto">
      </div>

  </div> <!--Container-->


<script>
  // Blok shortcut zoom (Ctrl/Cmd + + / - / 0)
  document.addEventListener('keydown', function (event) {
    if ((event.ctrlKey || event.metaKey) && 
        (event.key === '+' || event.key === '-' || event.key === '=' || event.key === '0')) {
      event.preventDefault();
      return false;
    }
  });

  // Blok zoom pakai scroll + Ctrl
  window.addEventListener('wheel', function (event) {
    if (event.ctrlKey) {
      event.preventDefault();
    }
  }, { passive: false });

  // Reset zoom ke 100% setiap kali berubah (anti Ctrl+scroll/shortcut)
  window.addEventListener('resize', function () {
    document.body.style.zoom = '100%';
  });

  // Paksa zoom tetap 100% saat load
  document.body.style.zoom = '100%';
</script>
{% endblock content %}
